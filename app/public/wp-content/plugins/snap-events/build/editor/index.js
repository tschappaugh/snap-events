(()=>{"use strict";const e=window.wp.plugins,n=window.wp.i18n,t=window.wp.editor,a=window.wp.components,s=window.wp.coreData,l=window.wp.data,o=window.wp.element,r=window.ReactJSXRuntime;function i(e){if(!e||8!==e.length)return null;const n=e.substring(0,4),t=e.substring(4,6),a=e.substring(6,8);return new Date(`${n}-${t}-${a}`)}function u(e){const n=i(e);return n?n.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}):""}function c({label:e,value:t,onChange:s}){const[l,c]=(0,o.useState)(!1);return(0,r.jsxs)("div",{className:"snap-events-date-field",children:[(0,r.jsx)(a.TextControl,{label:e,value:u(t),onFocus:()=>c(!0),readOnly:!0}),l&&(0,r.jsx)(a.Popover,{onClose:()=>c(!1),children:(0,r.jsx)(a.DatePicker,{currentDate:i(t),onChange:e=>{s(function(e){if(!e)return"";const n=new Date(e);return`${n.getUTCFullYear()}${String(n.getUTCMonth()+1).padStart(2,"0")}${String(n.getUTCDate()).padStart(2,"0")}`}(e)),c(!1)}})}),t&&(0,r.jsx)(a.Button,{size:"small",variant:"link",onClick:()=>s(""),children:(0,n.__)("Clear","snap-events")})]})}(0,e.registerPlugin)("snap-event-details",{render:function(){const e=(0,l.useSelect)(e=>e("core/editor").getCurrentPostType(),[]),[o,i]=(0,s.useEntityProp)("postType",e,"meta");if("snap_event"!==e)return null;if(!o)return null;const u=(e,n)=>{i({...o,[e]:n})};return(0,r.jsxs)(t.PluginDocumentSettingPanel,{name:"snap-event-details",title:(0,n.__)("Event Details","snap-events"),className:"snap-event-details-panel",children:[(0,r.jsx)(c,{label:(0,n.__)("Start Date","snap-events"),value:o.start_date||"",onChange:e=>u("start_date",e)}),(0,r.jsx)(c,{label:(0,n.__)("End Date","snap-events"),value:o.end_date||"",onChange:e=>u("end_date",e)}),(0,r.jsx)(a.TextControl,{label:(0,n.__)("Venue","snap-events"),value:o.venue||"",onChange:e=>u("venue",e)}),(0,r.jsx)(a.TextControl,{label:(0,n.__)("City","snap-events"),value:o.city||"",onChange:e=>u("city",e)}),(0,r.jsx)(a.TextControl,{label:(0,n.__)("State","snap-events"),value:o.state||"",onChange:e=>u("state",e)}),(0,r.jsx)(a.TextControl,{label:(0,n.__)("Country","snap-events"),value:o.country||"",onChange:e=>u("country",e)})]})}})})();